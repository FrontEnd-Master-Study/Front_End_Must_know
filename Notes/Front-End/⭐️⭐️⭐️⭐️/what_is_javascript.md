# JavaScript

1. JavaScript는 어떤 언어인가요? (싱글 스레드 언어)
2. 실제 사용시에는 멀티 스레드처럼 사용하는데 어떻게 사용하나요?
3. 비동기적으로 실행이 되는 것을 동기적으로 코딩하는 방법이 있나요 ?
4. 싱글 스레드와 멀티 스레드에 대해서 설명해주세요.

<br>

---

<br>

## Anwer

# 1. Javascript는 싱글 스레드(Single Thread) 언어입니다.

엄밀히 말하자면 자바스크립트의 메인 스레드가 싱글 스레드입니다. 하지만 실제 사용 시 멀티 스레드처럼 사용합니다. 그 이유는 자바스크립트 엔진이 웹브라우저나 Node.js와 같은 멀티 스레드 환경에 임베디드되어 실행되기 때문입니다. 즉 자바스크립트 엔진은 싱글스레드이지만 멀티 스레드로 작업이 가능합니다.

# 2. 자바스크립트는 이벤트루프, Web API, Callback Queue와 함께 멀티스레드처럼 사용합니다.

```md
예)
코드 실행 (작업1, 비동기 작업2, 작업3) - Main thread에서 코드 처리

작업1 콜스택에 추가 ➡️ 작업1 실행 ➡️ 콜스택에서 제거

➡️ 작업2:setTimeout 콜스택에 추가 ➡️ 작업2:setTimeout 실행, Web API의 Time thread에 작업 추가 ➡️ Timer thread (=Sub thread)에서 n초 기다리기 수행

➡️ Main thread에서 작업3 콜스택에 추가 ➡️ 작업3 실행 ➡️ 작업3 콜스택에서 제거

➡️ n초 뒤, Tiem thread가 작업2를 콜백 큐로 보냄 ➡️ 이벤트 루프가 콜백 큐에있던 작업2를 (Main thread의?) 콜 스택에 추가 [이벤트 루프는 콜스택과 콜백큐를 돌면서 확인하고, 콜스택이 비어있을 경우 콜백 큐의 함수를 하나씩 콜백 큐로 옮긴다.] ➡️ 작업3 실행 ➡️ 작업3 콜스택에서 제거
```

# 3. 비동기적 처리를 동기적으로 처리하도록 코딩하는 방법

- 비동기적 **callback** 함수 사용
- ES6 **Promise**
- ES8 **async** **await**

자바스크립트 엔진만으로는 비동기적으로 구현할 수 없으므로 자바스크립트 실행 환경(Runtime)은 브라우저에서 제공하는 Web API를 사용하여 비동기를 구현하게 된다. DOM 이벤트, setTimeout과 같은 비동기 함수는 web API를 호출하여 콜백 함수를 콜백 큐에 넣는다. 콜백 함수들이 담긴 큐는 특정 시점에서 콜백을 실행시키는 방식이다.

Promise
자바스크립트 비동기 처리에 사용되는 객체입니다. 프로미스는 주로 서버에서 받아온 데이터를 화면에 표시할 때 사용합니다.

async, await
asynce await 는 비동기처리의 최신문법이다. 기존의 promise와 다른 것은 아니고,syntatic sugar일 뿐이다. promise를 사용할 경우에 callback처럼 chaining이 일어나는 것은 마찬가지이다. async await을 사용하면 promise를 '깔끔한 스타일'로 작성할 수 있다.

# 4. 싱글 스레드는 메인 스레드 하나로 작업을 처리하고, 멀티 스레드는 메인 스레드 외 추가적인 스레드를 이용하여 병렬적으로 작업을 처리합니다.

---

Kywords (참고)

1. 병행성 : 여러 작업이 동시에 일어나는 것
2. 동시성 : 여러 작업이 마치 동시에 일어나는 것 '처럼'보이는 것
3. 브라우저 엔진: 크롬 등과 같은 웹브라우저 엔진
4. 호출 스택(콜 스택, Call Stack) : 수행 할 자바스크립트 함수를 순차적으로 이 콜스택에 담아서 처리한다.
5. 콜백 큐, Callback Queue : 런타임 환경에서 처리해야하는 명령어를 임시로 저장하는 대기큐이다. Task Queue, Event Queue라고 하기도 한다.
6. Web API : 웹 브라우저에서 제공하는 API로, Browser API라고도 한다. (노드js의 경우 C++ API가 있다.)
